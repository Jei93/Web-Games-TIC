<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Resumen — Datos (presentación)</title>

  <!-- Google font (opcional) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#94a3b8;
      --accent:#2dd4bf; /* teal-ish */
      --table-bg: #0b1220;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(180deg,#071025 0%,#071826 100%);color:#e6eef8}
    .wrap{max-width:1200px;margin:32px auto;padding:20px;}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    header h1{margin:0;font-size:1.5rem;font-weight:600}
    header p{margin:0;color:var(--muted)}
    .controls{margin:12px 0;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .search{
      background:transparent;border:1px solid rgba(255,255,255,0.08);padding:8px 12px;border-radius:8px;color:inherit;
      min-width:220px;outline:none;
    }
    .table-wrap{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;padding:12px;overflow:auto;box-shadow:0 6px 20px rgba(2,6,23,0.6);
    }
    table{
      width:100%;border-collapse:separate;border-spacing:0;
      font-size:0.95rem;
    }
    thead th{
      position:sticky;top:0;background:linear-gradient(180deg,#08323a,#0b3f3f);
      color:white;padding:10px 12px;text-align:left;font-weight:600;
      font-size:0.95rem;border-bottom:1px solid rgba(255,255,255,0.06);
    }
    tbody tr{transition:background .12s ease}
    tbody tr:hover{background:rgba(255,255,255,0.02)}
    td{padding:10px 12px;border-bottom:1px solid rgba(255,255,255,0.03);color:#dfe9f2}
    .small{font-size:0.85rem;color:var(--muted)}
    .badge{display:inline-block;background:rgba(255,255,255,0.03);padding:4px 8px;border-radius:999px;font-weight:600;color:var(--accent)}
    /* responsive: collapse to cards on very small screens */
    @media (max-width:720px){
      table{display:block}
      thead{display:none}
      tbody tr{display:block;margin-bottom:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border-radius:10px;padding:10px}
      tbody td{display:flex;justify-content:space-between;padding:8px 10px;border-bottom:1px dashed rgba(255,255,255,0.03)}
      tbody td::before{content:attr(data-label);color:var(--muted);margin-right:8px;flex:0 0 40%}
      tbody td span{flex:1;text-align:right}
    }

    /* small helper for sortable header */
    .sortable{cursor:pointer;user-select:none}
    .sort-ind{font-size:0.8rem;opacity:0.7;margin-left:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Histórico — Notas y observaciones</h1>
        <p class="small">Tabla <span class="badge">Exportada desde Google Sheets</span> — versión maquetada para presentación</p>
      </div>
    </header>

    <div class="controls">
      <input id="q" class="search" placeholder="Buscar (año, juego, observaciones...)" />
      <div class="small" style="margin-left:auto">Consejo: toca el encabezado para ordenar</div>
    </div>

    <div class="table-wrap" id="table-wrap">
      <!-- Aquí pega la tabla convertida -->
      <!-- Para facilitarte, a continuación incluyo el markup base de la tabla.
           Reemplaza el <tbody> por el generado desde tu HTML exportado (solo las <tr>/<td>).
      -->
      <table id="data-table" aria-describedby="tabla-datos">
        <thead>
          <tr>
            <th class="sortable" data-col="0">Año <span class="sort-ind" id="ind-0">↕</span></th>
            <th class="sortable" data-col="1">Notas medias AAA <span class="sort-ind" id="ind-1">↕</span></th>
            <th class="sortable" data-col="2">Notas medias AA <span class="sort-ind" id="ind-2">↕</span></th>
            <th class="sortable" data-col="3">Notas medias Indies <span class="sort-ind" id="ind-3">↕</span></th>
            <th>Problemas en la industria</th>
            <th>AAA (ejemplo juego)</th>
            <th>AA</th>
            <th>Indie</th>
            <th>Observaciones</th>
          </tr>
        </thead>
        <tbody id="tbody">
          <!-- EJEMPLO: pega aquí las filas (tr) de tu tabla original, o usa la versión limpia que te doy abajo -->
          <tr>
            <td data-label="Año">2000</td>
            <td data-label="Notas AAA">88</td>
            <td data-label="Notas AA">35</td>
            <td data-label="Notas Indie">15</td>
            <td data-label="Problemas">Modelo retail, primeros DRM</td>
            <td data-label="AAA">The Sims</td>
            <td data-label="AA">Tony Hawk's Pro Skater 2</td>
            <td data-label="Indie">—</td>
            <td data-label="Observaciones">Inicio década con modelo retail; indies inexistentes.</td>
          </tr>
          <!-- FIN ejemplo -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // -- BÚSQUEDA SIMPLE (filtra por texto)
    const q = document.getElementById('q');
    const tbody = document.getElementById('tbody');
    q.addEventListener('input', () => {
      const val = q.value.trim().toLowerCase();
      Array.from(tbody.rows).forEach(row=>{
        const txt = row.innerText.toLowerCase();
        row.style.display = txt.includes(val) ? '' : 'none';
      });
    });

    // -- ORDENADO SIMPLE por columna (numérico si todos son números)
    document.querySelectorAll('th.sortable').forEach(th=>{
      th.addEventListener('click', ()=> {
        const col = parseInt(th.dataset.col,10);
        const rows = Array.from(tbody.rows).filter(r=>r.style.display!=='none');
        const isNum = rows.every(r=>!isNaN(parseFloat(r.cells[col].innerText.replace(',','.'))));
        const dir = th._dir = (th._dir === 1) ? -1 : 1;
        rows.sort((a,b)=>{
          let A = a.cells[col].innerText.trim();
          let B = b.cells[col].innerText.trim();
          if (isNum){ A = parseFloat(A.replace(',','.'))||0; B = parseFloat(B.replace(',','.'))||0; return (A-B)*dir; }
          A = A.toLowerCase(); B = B.toLowerCase();
          return A > B ? dir : (A < B ? -dir : 0);
        });
        // re-attach
        rows.forEach(r=>tbody.appendChild(r));
        // update indicator
        document.querySelectorAll('.sort-ind').forEach(i=>i.textContent='↕');
        document.getElementById('ind-'+col).textContent = dir===1 ? '▲' : '▼';
      });
    });

    // OPTIONAL: if you want to auto-extract the google-exported table and normalize it,
    // you can add a small script to find table.waffle and replace the tbody content.
  </script>
</body>
</html>
